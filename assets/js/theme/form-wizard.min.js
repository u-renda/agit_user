var FormWizard=function(){return{init:function(){if(jQuery().bootstrapWizard){var e=$("#submit_form"),r=$(".alert-danger",e),t=$(".alert-success",e);e.validate({doNotHideMessage:!0,errorElement:"span",errorClass:"help-block help-block-error",focusInvalid:!1,rules:{username:{minlength:5,required:!0},password:{minlength:5,required:!0},rpassword:{minlength:5,required:!0,equalTo:"#submit_form_password"},fullname:{required:!0},email:{required:!0,email:!0},phone:{required:!0},gender:{required:!0},address:{required:!0},city:{required:!0},country:{required:!0},card_name:{required:!0},card_number:{minlength:16,maxlength:16,required:!0},card_cvc:{digits:!0,required:!0,minlength:3,maxlength:4},card_expiry_date:{required:!0},"payment[]":{required:!0,minlength:1}},messages:{"payment[]":{required:"Please select at least one option",minlength:jQuery.validator.format("Please select at least one option")}},errorPlacement:function(e,r){"gender"==r.attr("name")?e.insertAfter("#form_gender_error"):"payment[]"==r.attr("name")?e.insertAfter("#form_payment_error"):e.insertAfter(r)},invalidHandler:function(e,i){t.hide(),r.show(),App.scrollTo(r,-200)},highlight:function(e){$(e).closest(".form-group").removeClass("has-success").addClass("has-error")},unhighlight:function(e){$(e).closest(".form-group").removeClass("has-error")},success:function(e){"gender"==e.attr("for")||"payment[]"==e.attr("for")?(e.closest(".form-group").removeClass("has-error").addClass("has-success"),e.remove()):e.addClass("valid").closest(".form-group").removeClass("has-error").addClass("has-success")},submitHandler:function(e){t.show(),r.hide()}});var i=function(){$("#tab4 .form-control-static",e).each(function(){var r=$('[name="'+$(this).attr("data-display")+'"]',e);if(r.is(":radio")&&(r=$('[name="'+$(this).attr("data-display")+'"]:checked',e)),r.is(":text")||r.is("textarea"))$(this).html(r.val());else if(r.is("select"))$(this).html(r.find("option:selected").text());else if(r.is(":radio")&&r.is(":checked"))$(this).html(r.attr("data-title"));else if("payment[]"==$(this).attr("data-display")){var t=[];$('[name="payment[]"]:checked',e).each(function(){t.push($(this).attr("data-title"))}),$(this).html(t.join("<br>"))}})},a=function(e,r,t){var a=r.find("li").length,o=t+1;$(".step-title",$("#form_wizard_1")).text("Step "+(t+1)+" of "+a),jQuery("li",$("#form_wizard_1")).removeClass("done");for(var n=r.find("li"),s=0;t>s;s++)jQuery(n[s]).addClass("done");1==o?$("#form_wizard_1").find(".button-previous").hide():$("#form_wizard_1").find(".button-previous").show(),o>=a?($("#form_wizard_1").find(".button-next").hide(),$("#form_wizard_1").find(".button-submit").show(),i()):($("#form_wizard_1").find(".button-next").show(),$("#form_wizard_1").find(".button-submit").hide()),App.scrollTo($(".page-title"))};$("#form_wizard_1").bootstrapWizard({nextSelector:".button-next",previousSelector:".button-previous",onTabClick:function(e,r,t,i){return!1},onNext:function(i,o,n){return t.hide(),r.hide(),0==e.valid()?!1:void a(i,o,n)},onPrevious:function(e,i,o){t.hide(),r.hide(),a(e,i,o)},onTabShow:function(e,r,t){var i=r.find("li").length,a=t+1,o=a/i*100;$("#form_wizard_1").find(".progress-bar").css({width:o+"%"})}}),$("#form_wizard_1").find(".button-previous").hide(),$("#form_wizard_1 .button-submit").click(function(){alert("Finished! Hope you like it :)")}).hide(),$("#country_list",e).change(function(){e.validate().element($(this))})}}}}();jQuery(document).ready(function(){FormWizard.init()});